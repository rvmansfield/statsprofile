{% extends "account/base_entrance.html" %}
{% load allauth i18n %}
{% block head_title %}
    {% trans "Signup" %}
{% endblock head_title %}
{% block content %}
    <div class="d-flex align-items-center justify-content-center py-5">
        <div class="card shadow-sm" style="width:100%;max-width:700px;">
            <div class="card-body p-4">
                <div class="text-center mb-4">
                    <a href="{% url 'index' %}" class="site-title">StatsProfile</a>
                    <h1 class="h4 mt-2">{% trans "Sign Up" %}</h1>
                    <p class="text-muted">{% blocktranslate %}Create an account to start tracking performance.{% endblocktranslate %}</p>
                </div>

                {% if not SOCIALACCOUNT_ONLY %}
                    <div class="row g-4">
                        <div class="col-lg-8">
                            {% url 'account_signup' as action_url %}
                            {% element form form=form method="post" action=action_url tags="entrance,signup" %}
                                {% slot body %}
                                    {% csrf_token %}
                                    <div class="form-fields">
                                        {% element fields form=form unlabeled=True %}
                                        {% endelement %}
                                    </div>
                                    {{ redirect_field }}
                                {% endslot %}
                                {% slot actions %}
                                    <div class="d-grid mt-3">
                                        {% element button tags="prominent,signup" type="submit" %}
                                            {% trans "Sign Up" %}
                                        {% endelement %}
                                    </div>
                                {% endslot %}
                            {% endelement %}
                        </div>
                        <div class="col-lg-4">
                            <div class="alert alert-info alert-sm">
                                <strong>{% trans "Password Requirements" %}</strong>
                                <ul class="mb-0 small mt-2">
                                    <li>{% trans "At least 8 characters" %}</li>
                                    <li>{% trans "Mix of uppercase and lowercase letters" %}</li>
                                    <li>{% trans "At least one number" %}</li>
                                    <li>{% trans "At least one special character" %}</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                {% endif %}

                {% if PASSKEY_SIGNUP_ENABLED %}
                    <hr />
                    {% element button href=signup_by_passkey_url tags="prominent,signup,outline,primary" %}
                        {% trans "Sign up using a passkey" %}
                    {% endelement %}
                {% endif %}

                {% if SOCIALACCOUNT_ENABLED %}
                    <hr />
                    {% include "socialaccount/snippets/login.html" with page_layout="entrance" %}
                {% endif %}

                <div class="text-center mt-4">
                    <p class="mb-0">{% blocktranslate %}Already have an account? <a href="{{ login_url }}">Sign in</a>.{% endblocktranslate %}</p>
                </div>
            </div>
        </div>
    </div>
    <style>
        .alert-sm {
            padding: 0.75rem 1rem;
            font-size: 0.9rem;
        }
        .form-fields p {
            margin-bottom: 1rem;
        }
        .form-fields input,
        .form-fields textarea {
            width: 100%;
            padding: 0.5rem 0.75rem;
            border: 1px solid #ddd;
            border-radius: 0.375rem;
            font-size: 0.95rem;
        }
        .form-fields input:focus,
        .form-fields textarea:focus {
            outline: none;
            border-color: #0d6efd;
            box-shadow: 0 0 0 0.2rem rgba(13, 110, 253, 0.25);
        }
        .form-fields label {
            display: block;
            margin-bottom: 0.375rem;
            font-weight: 500;
            font-size: 0.9rem;
        }
    </style>
{% endblock content %}
